"use strict";const{app:o,BrowserWindow:i}=require("electron"),t=require("path"),l=require("url");let e;function s(){if(e){console.log("Window already exists, focusing..."),e.focus();return}console.log("Creating new window..."),e=new i({width:800,height:600,webPreferences:{nodeIntegration:process.env.ELECTRON_NODE_INTEGRATION,contextIsolation:!process.env.ELECTRON_NODE_INTEGRATION}});const n=process.env.VITE_DEV_SERVER_URL||l.format({pathname:t.join(__dirname,"../dist/index.html"),protocol:"file:",slashes:!0});console.log("Loading URL:",n),e.loadURL(n),e.on("closed",()=>{e=null})}o.whenReady().then(()=>{console.log("App is ready, creating window..."),s(),o.on("activate",()=>{i.getAllWindows().length===0&&s()})});o.on("window-all-closed",()=>{console.log("All windows closed"),process.platform!=="darwin"&&o.quit()});
